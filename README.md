תרגיל מסכם D1: ASCII Art

רקע:
קוד ASCII הוא קוד מספרי שמייצג תווים. לכל תו יש קוד שונה.
חלק מן התווים ניתנים להדפסה כמו אותיות, ספרות ותווים נוספים (לדוגמא: $@#%*).
אמנות ASCII היא ציור ממוחשב רק באמצעות תווי ASCII.

בדרך כלל, לפני שליחה על גבי הרשת או שמירה במסד נתונים מתבצעת המרה של הנתונים באופן מאפשר את הפעולה הזו (ולעיתים קרובות מכווץ את הנתונים כדי לחסוך במשאבים כמו רשת או דיסק). פעולה זו נקראת serialize. 
במהלך הקריאה של הנתונים (מהרשת או מהדיסק) מתבצעת המרה הפוכה כדי שניתן יהיה להבין אותם. פעולה זו נקראת deserialize. 
השימוש בפעולה זו הוא מאוד נפוץ ולכן שפות רבות כבר מכילות ספריות מאוד יעילות לטובת העניין.

בעצם לכל פעולת המרה דו צדדית ניתן לקרוא serialize/deserialize.
אנחנו נמציא אחת כזו משלנו לקבצי אמנות ASCII (!).

המשימה:
במהלך התרגיל אתם הולכים ליצור 4 פונקציות, יש לבנות את הפונקציות לפי הסדר, יש לקרוא את התרגיל עד הסוף לפני תחילת העבודה.

כך מוגדרות ארבעת הפונקציות:
def rotate(image : str, degrees : int) -> str:
def convert(image : str, conversion_table : dict, conv_choice : int) -> str:
def serialize(string, rotation, conv_choice, conversion_table, to_print=False) -> str:
def deserialize(string, rotation, conv_choice, conversion_table, to_print=False) -> str:

פונקציה ראשונה - rotate:
הפעולה מקבלת 2 פרמטרים: image ו- degrees. הראשון הוא מחרוזת שיש לסובב, השני הוא מספר המעלות שיש לסובב את המחרוזת: 0, 90, 180, 270, 360. 
המחרוזת יכולה להיות עם כמה שורות!!! (n\) 
אפשר להניח שכל השורות באותו אורך. לא תתכן שורה ריקה.

המספר מציין את מספר המעלות לסיבוב על פי כיוון השעון
(0 - ללא שינוי, 90 - רבע סיבוב ימינה, 180 - הפוך,    270 - רבע סיבוב שמאלה). או 360 לתמונת מראה.
לדוגמא, הפעלת הסיבוב על הציור הבא ינתנו התוצאות הבאות:

....   ***$$$$$  
((##  /,,)&&&&&
///,/.****   **
כאשר מסובבים 180 (הפוך)
כאשר מסובבים 360 (מראה)
///,/.****   **
))##  /,,(&&&&&
....   ***$$$$$
....   ***$$$$$  
((##  /,,)&&&&&
///,/.****   **


	לשים לב: הפונקציה עובדת עם מחרוזות, לכן יש לצפות שהציור ייוצג כך:


הפעולה תחזיר את המחרוזת שהתקבלה לאחר הסיבוב.

פונקציה שנייה - conversion:
הפעולה מקבלת 3 פרמטרים מחרוזת לעבוד עליה (image), טבלת המרה (conversion_table) ומספר המרה (choice).

טבלת המרה נראית כך:
	 
מספר ההמרה הוא בין 0 ל2. כך מתבצעת ההמרה:
	טבלת ההמרה מכילה שלושה תווים בכל שורה: התו המקורי בצד שמאל ושתי אפשרויות להחלפתו.
	אם המשתמש מזין 0 לא מתבצעת המרה.
	אם המשתמש מזין 1 התו המקורי יוחלף באפשרות הראשונה (אמצעית).
	אם המשתמש מזין 2 התו המקורי יוחלף באפשרות השניה (ימנית).

$^)
!;$
#|*
לדוגמא, כאשר נפעיל את טבלת ההמרה מלמעלה על התמונה הבאה תתקבלנה התוצאות הבאות:

התמונה המקורית: 


כאשר המשתמש מקיש 1
כאשר המשתמש מקיש 2
....   |||;;;;;  
((##  /,,^&&&&&
///,/.||||   ||
....   ###!!!!!  
((##  /,,$&&&&&
///,/.####   ##


כאשר המשתמש ביקש להמיר תווים (הקיש 1 או 2) אך לא נמצא תו מתאים בטבלת ההמרה התו יוחלף ב X
לדוגמא, אם נעבוד עם אותה טבלה ותמונה כך צריכה להראות התוצאה הסופית של הפונקציה:

כאשר המשתמש מקיש 1:
;;;;;|||XXXXXXX
XXXXX^XXXXXXXXX
||XXX||||XXXXXX


תזכורת: כמו הפונקציה הקודמת גם הפונקציה הזאת מקבלת מחרוזת שנראית כך: יש לשים לב שהפונקציה לא מוחקת את השורות השונות (n\)

על הפעולה להחזיר את המחרוזת לאחר ההמרה.



פונקציה שלישית - serialize:
פעולת הserialize מקבלת 5 פרמטרים, ובעצם משלבת בתוכה את 2 הפונקציות הקודמות.
היא מקבלת מחרוזת לעבוד עליה, זווית לסיבוב, טבלת ומספר המרה וגם משתנה בוליאני שעליו יורחב בהמשך (to_print).

************************דוגמא לקריאה לserialize************************************************

פעולת ה- serialize שלנו מקבלת מהמשתמש שם קובץ טקסט עם תווי ASCII ועבור כל שורה על פי הסדר משמאל לימין מציינת כמה פעמים מופיע כל תו ומהו התו.
לדוגמא: 
בתמונת ה ASCII ART הבאה ישנן 3 שורות של 15 תווים.

....   ***$$$$$ 	 
((##  /,,)&&&&&	
///,/.****   **	

	למשל: בשורה הראשונה ישנם חמישה סימני דולר, שלוש כוכביות, שלושה רווחים וארבע נקודות.
הייצוג של כל התמונה הזו לאחר פעולת serialize ייראה כך: 
5$3*3 4.
5&1(2,1/2 2#2)
2*3 4*1.1/1,3/


בדוגמא הזו פעולת ה serialize הצליחה לייצג תמונה של 45 תווים ב 36 תווים. חסכון של 9 תווים שהם 20%. ריספקט!

לשים לב, על הפעולה לשלב את כל האלמנטים מהפעולות הקודמות. זאת אומרת המשתמש יכול לבחור אם לסובב את התוכן של הקובץ או להמיר את התווים בו ולשמור את התוצאה הסופית בתור serialized 

לבסוף, על הפעולה לרשום את התוכן החדש בקובץ ולהחזיר את הכתובת של הקובץ החדש (output.txt), ואם to_print שווה לtrue, להחזיר את התוכן החדש (ולא את הכתובת).

המחרוזת צפוייה להראות כמו הפלטים בפונקציות הקודמות.

פונקציה רביעית - deserialize:

**************************דוגמא לקריאה לdeserialize**********************************
פונקציה זו עושה בדיוק ההפך מחברתה הקודמת

פונקציה זאת מקבלת בדיוק אותם דברים כמו האחת הקודמת, אך במקום מחרוזת של תמונה היא מקבלת מחרוזת של תמונה מכווצת (בקיצור, מחרוזת serialized). על פונקציה זאת להחזיר את המצב לאחור ולהרחיב את התמונה בחזרה, לעשות סיבוב או המרה אם נדרש, לרשום את הכל בקובץ חדש להחזיר את הכתובת של הקובץ, או את התוכן אם נדרש.











כיצד לבדוק את התרגיל:
עם התרגיל תשלח אליכם תיקיה ובה קבצים שתוכלו לנסות עליהם את הפונקציות שתכתבו (שימו לב שיש לתת לפונקציה את הקבצים לאחר קריאה!! בצורת מחרוזת עם n\) .   בתיקיה יהיה גם קובץ עם שורות assert. כל אחת מהשורות האלה תבדוק משהו אחר שהפונקציות שתכתבו אמורות לעשות. 
אין להגיש את התרגיל לפני שכל הassert עברו לכם בצורה חלקה. על כל assert שלא יעבוד ירדו נקודות.
בשביל שהקובץ יעבוד חשוב מאוד לדאוג שהפונקציות מוגדרות בדיוק כמו שכתוב כאן, שהן יקבלו הכל לפי ההגדרה ויחזירו מה שאמורות להחזיר.
לשים לב שכל הקבצים שאתם עובדים איתם יהיו באותם תקייה.

טיפים והנחיות:
לנוחותכם, לתרגיל זה מצורפים 5 קבצי טקסט לדוגמא עם אמנות ASCII. 
תוכלו לעבוד עם כל תמונה שתרצו. הנה דוגמא לאתר שיעשה את זה בשבילכם:
https://manytools.org/hacker-tools/convert-images-to-ascii-art/
זה די מגניב. תוכלו אפילו להעלות תמונה שלכם ולראות איך אתם נראים ב ASCII. ככל שהתמונה תהיה גדולה יותר (יותר תווים לאורך ולרוחב) היא תצא מדויקת יותר. 


רוחב/אורך מקסימלי לתמונה הוא 200 תווים (כמו שהאתר הנ״ל מאפשר). לכל קובץ רוחב משלו.


אפשר להניח שאין שימוש בספרות כדי לצייר. לכן, אם מופיע מספר בקובץ serialized הוא מציין את כמות התווים ולא את התו עצמו.


אי אפשר להניח קלט חוקי מהמשתמש. צריך לוודא זאת.
יש להשתמש בתבונה בחומרים שלמדתם בתכנות Python ובפרט:
variables, functions, user input, files, exceptions


אתגר רשות: 
כל הקלט מהמשתמש והקבצים המקוריים מתבצעים ב client
לפני שליחה ל server יש לבצע את הפעולות שהמשתמש ביקש ואחר כך serialize
ב server יש לבצע deserialize ולשמור עותק של התמונה. שימו לב שיכולות להתקבל הרבה תמונות נא לדאוג שאף אחת לא תדרוס את חברתה.


אין צורך ב Object Oriented.


לכתוב קוד הרבה יכולים. לכתוב קוד יפה זו אומנות :)
לכן, בפיתוח תוכנה מומלץ להפעיל את הראש לפני שמפעילים את האצבעות...
תקראו את כל הסעיפים ותחשבו איך הם משפיעים על הדרך שבה תרצו לממש את התרגיל.
תחשבו על חלוקה נכונה לפונקציות, על שמות משתנים ברורים, בהירות וקריאות, איך לייצג את המידע בצורה הכי טובה כדי שתשרת אתכם בכל הסעיפים, להימנע מכפילות קוד, שימוש נכון בטיפוסי משתנים, וכו׳.

לאחר שתגישו אני אעשה לכם code review (מעבר על הקוד ומתן הערות לשיפור). מי שירצה יוכל לממש את ההערות על מנת לשפר את התוצאה. אין חובה לשפר לאחר code review.


זמן עבודה מוערך בין 2-6 שעות. יוקצה זמן גם במהלך המפגשים שלנו בהימלפרב לטובת העבודה. 
מי שיגיש קרוב לבאזר לא יהיה לו זמן לתקן אחרי code review. 

בהצלחה :)

